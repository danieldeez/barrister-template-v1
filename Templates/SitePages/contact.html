{% extends "base.html" %}
{% block title %}Initial Enquiry | {{ SITE_NAME }}{% endblock %}
{% block content %}

<!-- Initial Enquiry page (formerly Contact) -->
<main class="py-5 bg-body">
  <section class="py-4">
    <div class="container-lg">
      <!-- Page header -->
      <header class="mb-5">
        <h1 class="h3 fw-semibold mb-2">Submit an initial enquiry</h1>
        <p class="text-muted mb-0">
          Use this form to describe your legal matter. Your enquiry will be reviewed and you'll receive guidance on next steps.
        </p>
      </header>

      <!-- Important Notice -->
      <div class="alert alert-info mb-4">
        <i class="bi bi-info-circle me-2"></i>
        <strong>Please note:</strong> Submitting this form does not create a barrister–client relationship and does not constitute legal advice.
        This is an initial enquiry only.
      </div>

      <div class="row g-5">
        <!-- Form column -->
        <div class="col-lg-7">
          <div class="card border-0 shadow-sm contact-card">
            <div class="card-body p-4">
              <h2 class="h5 fw-semibold mb-3">Describe your matter</h2>
              <form method="post" novalidate>
                {% csrf_token %}

                {% if form.errors %}
                <div class="alert alert-danger alert-sm mb-3" role="alert">
                  <strong>Please correct the errors below.</strong>
                </div>
                {% endif %}

                <div class="row g-3">
                  <!-- Name (Optional) -->
                  <div class="col-md-6">
                    <label for="{{ form.name.id_for_label }}" class="form-label contact-label">
                      {{ form.name.label }}
                    </label>
                    {{ form.name }}
                    {% if form.name.errors %}
                      <div class="form-text text-danger small">{{ form.name.errors.0 }}</div>
                    {% endif %}
                  </div>

                  <!-- Email (Optional) -->
                  <div class="col-md-6">
                    <label for="{{ form.email.id_for_label }}" class="form-label contact-label">
                      {{ form.email.label }}
                    </label>
                    {{ form.email }}
                    <div class="form-text small">Allows us to respond if appropriate.</div>
                    {% if form.email.errors %}
                      <div class="form-text text-danger small">{{ form.email.errors.0 }}</div>
                    {% endif %}
                  </div>

                  <!-- Matter Description (Required) -->
                  <div class="col-12">
                    <label for="{{ form.raw_text.id_for_label }}" class="form-label contact-label">
                      {{ form.raw_text.label }} <span class="text-danger">*</span>
                    </label>
                    {{ form.raw_text }}
                    <div class="form-text small">
                      {{ form.raw_text.help_text }}
                    </div>
                    {% if form.raw_text.errors %}
                      <div class="form-text text-danger small">{{ form.raw_text.errors.0 }}</div>
                    {% endif %}
                  </div>

                  <!-- Consent checkbox -->
                  <div class="col-12">
                    <div class="form-check">
                      {{ form.consent }}
                      <label class="form-check-label" for="{{ form.consent.id_for_label }}">
                        {{ form.consent.label|safe }}
                        <span class="text-danger">*</span>
                      </label>
                      {% if form.consent.errors %}
                        <div class="form-text text-danger small">{{ form.consent.errors.0 }}</div>
                      {% endif %}
                      {% if form.consent.help_text %}
                        <small class="text-muted d-block mt-1">{{ form.consent.help_text }}</small>
                      {% endif %}
                    </div>
                  </div>

                  <!-- Submit -->
                  <div class="col-12 mt-4">
                    <button type="submit" class="btn btn-primary px-4">
                      <i class="bi bi-send me-2"></i>Submit enquiry
                    </button>
                  </div>
                </div>
              </form>
            </div>

            <!-- Footer disclaimer -->
            <div class="card-footer bg-transparent border-0 pt-0 pb-3 px-4">
              <p class="small text-muted mb-0" style="line-height: 1.5;">
                <i class="bi bi-shield-check me-1"></i>
                Do not include highly sensitive or confidential information in your submission.
                Your enquiry will be reviewed, and you'll be contacted if a consultation is appropriate.
              </p>
            </div>
          </div>
        </div>

        <!-- Contact details column -->
        <div class="col-lg-5">
          <aside class="contact-aside">
            <!-- Chambers contact -->
            <div class="mb-4 pb-4 border-bottom">
              <h2 class="h6 fw-semibold mb-3 contact-aside-heading">Chambers contact</h2>
              <p class="small text-muted mb-2">
                <i class="bi bi-envelope me-2 text-primary"></i>
                <a href="mailto:{{ BARRISTER_EMAIL }}" class="text-decoration-none">{{ BARRISTER_EMAIL }}</a>
              </p>
              <p class="small text-muted mb-2">
                <i class="bi bi-telephone me-2 text-primary"></i>
                <a href="tel:{{ BARRISTER_PHONE|cut:' ' }}" class="text-decoration-none">{{ BARRISTER_PHONE }}</a>
              </p>
              <p class="small text-muted mb-2">
                <i class="bi bi-phone me-2 text-primary"></i>
                <a href="tel:{{ BARRISTER_MOBILE|cut:' '|cut:'-' }}" class="text-decoration-none">{{ BARRISTER_MOBILE }}</a> <span class="text-muted">(Mobile)</span>
              </p>
              <p class="small text-muted mb-2">
                <i class="bi bi-geo-alt me-2 text-primary"></i>
                {{ CHAMBERS_ADDRESS_LINE1 }}<br>
                <span class="ms-4">{{ CHAMBERS_ADDRESS_LINE2 }}</span>
              </p>
              <p class="small text-muted mb-0">
                <i class="bi bi-mailbox me-2 text-primary"></i>
                {{ CHAMBERS_DX }}
              </p>
            </div>

            <!-- Urgent matters -->
            <div class="mb-4">
              <h2 class="h6 fw-semibold mb-3 contact-aside-heading">Urgent matters</h2>
              <p class="small text-muted mb-0" style="line-height: 1.6;">
                If your matter is time-sensitive, please indicate this in your enquiry description or contact chambers by phone directly.
              </p>
            </div>

            <!-- Review process -->
            <div>
              <h2 class="h6 fw-semibold mb-3 contact-aside-heading">Review process</h2>
              <p class="small text-muted mb-0" style="line-height: 1.6;">
                Your enquiry will be reviewed, typically within 1–2 business days. You'll be contacted if a consultation is appropriate. For immediate assistance, please call chambers directly.
              </p>
            </div>
          </aside>
        </div>
      </div>
    </div>
  </section>
</main>

{% endblock %}
